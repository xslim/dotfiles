
# 
set realname = 'Taras Kalapun'

set charset = "utf-8"
set use_from = yes
set envelope_from = yes
set ssl_starttls = yes
set ssl_force_tls = yes
set move = no
set imap_keepalive = 900
set sort_aux = reverse-last-date-received       
set sort = threads
set sort_re
set editor = "vim"
set sleep_time = 0 # be fast
unset imap_passive

set pager_index_lines = 10                 # number of index lines to show
set pager_context = 3                      # number of context lines to show
set pager_stop                             # don't go to next message automatically
set menu_scroll                            # scroll in menus
set tilde                                  # show tildes like in vim
unset markers                              # no ugly plus signs
set uncollapse_jump                        # don't collapse on an unread message
set abort_nosubject = yes                  # Cancel a message when subject is blank
set net_inc = 5                            # Display download progress every 5K 
set nomark_old                          # Don't mark unread new msgs as old.
set nobeep                              # We don't need no beeping software.
set nostrict_threads                    # Lets have some fuzzy threading.
set envelope_from=yes     # add sender with -f
set tmpdir="~/tmp"
set noconfirmappend       # Just append, don't hassle me.
set auto_tag = yes        # apply mutt commands by default to all selected (tagged) messages

set mail_check = 60  # in seconds

#set sidebar_visible = yes
#set sidebar_width   = 24

auto_view text/html                                      # view html automatically
alternative_order text/plain text/enriched text/html     # save html for last

# G to get mail
bind index G imap-fetch-mail

bind index K mail
bind pager K mail

#macro index 'c' '<change-folder>?<change-dir><home>^K=<enter>'
macro index,pager gi "<change-folder>=INBOX<enter>" "Go to inbox"
macro index,pager gl "<change-folder>?" "Go to 'Label'" # will take you to a list of all your Labels (similar to viewing folders).

macro index,pager b '<enter-command>toggle sidebar_visible<enter>'

source ~/.mutt/accounts.muttrc

# gpg stuff

set pgp_replysign
set pgp_replyencrypt
set pgp_replysignencrypted

set pgp_verify_sig
# decode application/pgp
set pgp_decode_command="gpg %?p?--passphrase-fd 0? --no-verbose --batch -o - %f"

# verify a pgp/mime signature
set pgp_verify_command="gpg --no-verbose --batch -o - --verify %s %f"

# decrypt a pgp/mime attachment
set pgp_decrypt_command="gpg --passphrase-fd 0 --no-verbose --batch -o - %f"

# create a pgp/mime signed attachment
set pgp_sign_command="gpg --no-verbose --batch -o - --passphrase-fd 0 --armor --detach-sign --textmode %?a?-u %a? %f"

# create a application/pgp signed (old-style) message
set pgp_clearsign_command="gpg --no-verbose --batch -o - --passphrase-fd 0 --armor --textmode --clearsign %?a?-u %a? %f"

# create a pgp/mime encrypted attachment
set pgp_encrypt_only_command="/usr/lib/mutt/pgpewrap gpg -v --batch -o - --encrypt --textmode --armor --always-trust %?a?-u %a? -- -r %r -- %f"

# create a pgp/mime encrypted and signed attachment
set pgp_encrypt_sign_command="/usr/lib/mutt/pgpewrap gpg --passphrase-fd 0 -v --batch -o - --encrypt --sign --armor --always-trust %?a?-u %a? -- -r %r -- %f"

# import a key into the public key ring
set pgp_import_command="gpg --no-verbose --import -v %f"

# export a key from the public key ring
set pgp_export_command="gpg --no-verbose --export --armor %r"

# verify a key
set pgp_verify_key_command="gpg --no-verbose --batch --fingerprint --check-sigs %r"

# read in the public key ring
set pgp_list_pubring_command="gpg --no-verbose --batch --with-colons --list-keys %r" 

# read in the secret key ring
set pgp_list_secring_command="gpg --no-verbose --batch --with-colons --list-secret-keys %r" 



# arrow or bar used to indicate the current item in a menu
  color indicator  white                red
# mode lines used to display info about the mailbox or message
  color status     brightwhite          blue
# thread tree drawn in the message index and attachment menu
  color tree       red                  default
# the ``~'' used to pad blank lines in the pager
  color tilde      brightblue           default
# /* no comment */
  color attachment white                default
# hiliting bold patterns in the body of messages
  color bold       white                default
# error messages printed by Mutt
  color error      brightred            black
# the ``+'' markers at the beginning of wrapped lines in the pager
  color markers    white                red
# informational messages
  color message    brightyellow         black
# hiliting of words in the pager
  color search   white                  brightblue
# Mutt sucks .. anyway .. ;)
# "General" index-colors
color header     color208            default     .  # all (x-)header
color index      blue                black      ~Q  # those I have already replied to.
color index      blue                default    ~D  # deleted
color index      blue                default    ~O  # old
color index      brightblue          default    ~P  # mail from myself
color index      brightblue          yellow     ~T  # tagged
color index      magenta             default    ~F  # flagged
color index      yellow              blue       ~v  # collapsed thread
color index      magenta             black      ~k  # GPG
color index      red                 default    ~N  # new

# spam diagnostics: alerts in red...
color	header		red		default		"^X-Spam.*"
color	header		red		default		"^X-SB.*"
color	header		red		default		"^X-Razor.*"
color	header		red		default		"^X-Pyzor.*"
color	header		red		default		"^X-DCC-.*:.*Fuz1=many Fuz2=many"
color 	header 		red 		default 	"^X-MailScanner-Spamcheck:.spam"
#color	header		black		red		"^'X-Spam-Flag: YES' ! '^X-Spam-Status: .*RAZOR2_CHECK'"
# ...harmless headers in normal green again
color	header		green		default		"^X-Spam-Status: No"
color	header		green		default		"^X-Spam-Checker-Version:"
color	header		green		default		"^X-Spam-Level: [^*]"
color	header		green		default		"^X-SpamBouncer:"
color	header		green		default		"^X-SBClass: OK"
color	header		green		default		"^X-SBPass:"
color	header		green		default		"^X-SBNote:"
color	header		green		default		"^X-Pyzor: Reported 0 times."

# Quoted test
color quoted     magenta		default
color quoted1    yellow                 default
color quoted2    red                    default
color quoted3    brightred              default
color quoted4    yellow                 default
color quoted5    cyan                   default
color quoted6    green                  default
color quoted7    brightcyan             default
color quoted8    brightgreen            default
color signature  color79		default
color underline  blue                   default
mono  normal     none
mono  attachment bold
mono  bold       bold
mono  error      standout
mono  indicator  reverse
mono  markers    bold
mono  message    bold
mono  status     underline
mono  tree       none

# My name. I'm important ;)
  color body       red                    default         "[Cc]hristian [Ss]chneider"
# (ftp|web) address without "http"
  color body       blue                   white           "(ftp|www)\\.[-.a-z0-9]+\\.[a-z][a-z][a-z]?([-_./~a-z0-9]+)?"
#  <URL:http://strcat.neessen.net/>
  color body       brightcyan             default         "<URL:[^ ]*>"
# Mailto links with a optional subject line i. e.
# 'mailto:strcat@gmx.net?subject=i+love+you
  color body       brightred              black           "mailto: *[^ ]+\(\\?subject=[^ ]+\)?"
# File names i. e. '/path/file'
  color body       color76                black           "\\~?\(/[-_.,a-zA-Z0-9{}äöüß]+\)+"
# Path names i. e. '/path/'
  color body       brightred              black           "\(/[-_.a-zA-Z0-9]+\)+/"
# URLs 
  color body       blue                   white           "(gopher|finger|ftp|http|telnet)://[^ >]*"
  color body       blue                   default         "news:[^ \">\t\r\n]*"
# HTTP addresses
  color body       yellow                 blue            "[[:alnum:]][-+.#_[:alnum:]]*@[-+.[:alnum:]]*[[:alnum:]]"
# HTTPS addresses
  color body       color222               default         "https://[^ >]*"
# Variables  i. e. '$LOGNAME' or '$0'
  color body       green                  black           "\\$[a-zA-Z][-_a-zA-Z]+"
  color body       green                  black           "\\$[0-9]+[.,0-9]*"
# Attribution line (i. e. '* Username wrote:')
  color body       red                    black           "^[*] .*:$"
# SCREAMING IN CAPS
  color body       brightyellow           black           "\\<[-A-ZÖÜßÄ']{4,}\\>"
# Smilies ;)
# Above is split into 5 parts:
#  [ \t]          -> Must start with a space or tab. (some pastings of command
#                    line promts have ":/" in them.
#  >?             -> An optional ">" - A frown.
#  [;:]           -> The eyes
#  [-=]?          -> optional nose.
#  [PpD)/(|}{><]  -> different mouths.
# color body brightyellow black "[ \t]>?[;:][-=]?[PpD)/(|}{><]"
# 
# Note the intentional [], which isn't a [] at all. To put a ']' in a
# character list, the ']' must be the first character listed. To match a '-',
# put it first or last.
# color body brightyellow black "(^|[ \t])>?[;:8=][-^]?[][PpD)/(|}{><]"
#  color body      black                  yellow          "[;:]-[)/(|]"
  color body       brightyellow           black          "(^|[[:space:]]+)[;:=]-*[)/(<pPoDOQ]+($|[[:space:]]+)"
#  color body       brightyellow black                    "([*]?[{}><]?[;:][-=o^]?[][)(*><|DPpd\\/][)(]?)"
#  color body       brightyellow black                    "([{}]?[8][-=o^][)(><|DPpd\\/][)(]?)"
#  color body       brightyellow black                    "([)(]?[><|\\/(][-=o^]?[8;:][{}]?)"
# more interesting words
  color  body       brightmagenta         black           "Artistic License"
  color  body       brightmagenta         black           "BSD License"
  color  body       brightmagenta         black           "GNU (Lesser )?General Public License"
  color  body       brightmagenta         black           "L?GPL"
  color  body       brightmagenta         black           "MIT/X Consortium License"
  color  body       brightmagenta         black           "OSI Approved"
  color  body       brightmagenta         black           "Public Domain"
  color  body       red                   black           "Free Software"
  color  body       red                   black           "Open Source"
  color  body       red                   black           "[sS]lashdot"
  color  body       red                   black           "[nN]ews[fF]orge"
  color  body       red                   black           "[sS]ource[fF]orge"
# Border lines.
  color body cyan black "( *[-+=#*~_]){6,}"
# *Emphasized*, /emphasized/, -strike-throut- and _emphasized_ words
#  TODO: Fix the regex for '-strike-through-'.
  color body       yellow                 blue            "[*][-[:alnum:]]+[*]"                 # *bold*
  color body       yellow                 blue            "[*][-[:alnum:]]+ *[-[:alnum:]]+[*]"  # *really bold*
  color body       yellow                 blue            "/[-[:alnum:]]+/"                     # /emphasized/
#  color body      yellow                 blue            "[-]+[-[[:alnum:]]+[-]{1}"            # -strike-through-
  color body       yellow                 blue            "_[-[:alnum:]]+_"                     # _underline_

# '*g*' is /Default/ but Doomy writes '<g>' .. never mind .. i'm flexible <g>.. aehm.. *g*
  color body       brightblue             white           "<[Gg]>"
  color body       brightblue             white           "<[Bb][Gg]>"
  color body       brightblue             white           "<[fF][Gg]>"
  color body       brightblue             white           "<[eE][Gg]>"
# '$ dict B1FF' all right???!!!11!
  color body       red                    white           "[!?]{3,}"
# some acronyms
  color body       black                  brightyellow    "[*]?((N)?ACK|CU|LOL|SCNR|BRB|BTW|CWYL|FWIW|vbg|GD&R|HTH|HTHBE|IMHO|IMNSHO|IRL|RTFM|ROTFL|ROFL|YMMV)[*]?"
# Make MONEY!!!11!
# *lol* murphys on tour and his law is right waiting for you.
# Original attribution-line from a mail:
# > "On Sat, Sep 06, 2003 at 11:08:22PM +0200, Mark wrote:"
# and now take a quick look at this ==>   ^^^^^^^^^ 
# You see? ;) shit happens and that doesn't interest me.
  color body       black                  yellow          "[0-9]+[,.][0-9]* *pf/min"
  color body       black                  yellow          "(dm|euro?|\$\$\$) *[1-9][0-9]*([.,][0-9]*-?-?)?"
  color body       black                  yellow          "[1-9][0-9.,]*(--?|[0-9][0-9])? *(dm|euro?|mark|\$\$\$)"
  color body       black                  yellow          "[1-9][0-9]? *(cents?|pfennig)"
# Highlight a hint to manpage a lá 'command(1)' (i. e. "ls(1)") .. capable of
# being extended.
# Note: Use the second regex to resolve 'login.conf(5)', 'mount_null(8)',
#       'pkg-config(1)' and 'pop(3)d'.
  color body       black                  red             "[[:alpha:]]+[-_.]?[[:alpha:]]+\\([0-9]\\)?"
# copyright, registered, trademark: (c), (r), [tm]
  color body       brightyellow           black           "([(](c|r)[)]|\\[tm\\])"
# "<li>..</li>"
  color body       brightred              black           "^ *[-*] +"
# local network's
  color body       brightblack            blue            "192.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}"
# highlight the most used OS' in different colors
  color body       blue                   yellow          "(freebsd|netbsd|openbsd|solaris|gentoo)"
  color body       blue                   default         "[Ww]in(do(ze|dows|of)|zigweich)"
  color body       white                  red             "(linux *)?(debian|mandrake|slackware|redhat|suse) *(linux)? *[0-9][.][0-9]"
  color body       blue                   default         "[Ww]indows[- ]?(3[.]11|95|98|9x|[Nn][Tt]|2k|2000|[Mm][Ee]|[Xx][Pp])"
# Color the attribution-line in order of the quoted lines.
  color body       brightblue             default         "^[^>].*(wrote|writes|said|says|schrieb|schreibt|schrub|\
							  schreibselte|tippte|meinte|teilte folgendes mit|escreveu|escribió|scripsit|[0-9]+\\]|\\.[a-z]{2,4}>).*:"
  color body       brightred              default 	  "^>[^>].*(wrote|writes|said|says|schrieb|schreibt|schrub|\
							  schreibselte|tippte|meinte|teilte folgendes mit|escreveu|escribió|scripsit|[0-9]+\\]|\\.[a-z]{2,4}>).*:"
  color body       brightmagenta   	  default 	 "^>[ ]?>[^>].*(wrote|writes|said|says|schrieb|schreibt|schrub|\
							 <F3>schreibselte|tippte|meinte|teilte folgendes mit|escreveu|escribió|scripsit|[0-9]+\\]|\\.[a-z]{2,4}>).*:"
# GPG / PGP / t-prot (<http://www.escape.de/users/tolot/mutt/>)
  color body       green                  black           "^#v[+-]"
  color body       brightmagenta          black           "^\\[---.*"
  color body       color241               default         "^gpg:.*"
  color body       brightred              default         "^(gpg: )?Bad signature.*"
  color body       red                    default         "^(gpg: )?warning:.*"
  color body       red                    default         "^(gpg: ).*failed:.*"
  color body       color241               default         "^Primary key fingerprint:.*"
  color body       brightblack            yellow          "-----END PGP PUBLIC KEY BLOCK-----"
  color body       brightblack            yellow          "-----BEGIN PGP PUBLIC KEY BLOCK-----"
  color body       black                  yellow          "Version: GnuPG v1.[01].[67].*"
# [ first | second | third ]
  color body       brightyellow           brightred       <'\[ [-a-z ]+ (\| [-a-z ]+)+ \]'
# Colors for my { daily,weekly,monthly,yearly}-filebackup
#  | 'etc-files-2003-09-15.gz'
  color body       red                    black           "(etc-files-|home-files-|errors-|logfile-)+[0-9,-.gz]*"
  color body       black                  red             "Backup - Report for painless"

# Highlight the relevant elements in the diff
  color body       green                  default         "^diff \-.*"
  color body       green                  default         "^index [a-f0-9].*"
  color body       green                  default         "^\-\-\- .*"
  color body       green                  default         "^[\+]{3} .*"
  color body       cyan                   default         "^[\+][^\+]+.*"
  color body       blue                   default         "^\-[^\-]+.*"
  color body       brightblue             default         "^@@ .*"

# First/Laste line of VBlockquote.vim
#  ,----[ l33t.. isnt it?! ]
#  | Insert (Quote) stuff the way some emacs people do.
#  `----
  color body red default ",----"
  color body red default "\`----"
